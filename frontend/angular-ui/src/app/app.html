<div class="container">
  <!-- Top Section -->
  <div class="top-section">
    <!-- Main Title with Gradient Effect -->
    <h1 class="title">Parthiv's AI Assistant</h1>
    
    <!-- Dynamic Status Display with State Classes -->
    <p class="status" 
       [class.listening]="isRecording()"
       [class.processing]="isProcessing()"
       [class.speaking]="isSpeaking()">
      {{ statusMessage() }}
    </p>
  </div>

  <!-- Middle Section -->
  <div class="middle-section">
    <!-- Audio Visualizer (shows when recording/speaking) -->
    <div class="audio-visualizer" [class.active]="isRecording() || isSpeaking()">
      <div class="audio-bar"></div>
      <div class="audio-bar"></div>
      <div class="audio-bar"></div>
      <div class="audio-bar"></div>
      <div class="audio-bar"></div>
    </div>

    <!-- Enhanced Microphone Button with Glow Ring -->
    <div class="mic-container" [class.active]="isRecording() || isProcessing()">
      <button
        id="mic-button"
        [disabled]="isProcessing() || isSpeaking()"
        [class.recording]="isRecording()"
        [class.processing]="isProcessing()"
        (mousedown)="startRecording()"
        (mouseup)="stopRecording()"
        (touchstart)="startRecording(); $event.preventDefault()"
        (touchend)="stopRecording(); $event.preventDefault()"
        (mouseleave)="stopRecording()">
        
        <!-- Enhanced SVG Icon with Better Styling -->
        <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" fill="currentColor" viewBox="0 0 16 16" style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
          <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z"/>
          <path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"/>
        </svg>
      </button>
    </div>

    <!-- Instructions (only show when idle) -->
    <p class="instructions" *ngIf="!isRecording() && !isProcessing() && !isSpeaking()">
      Press and Hold to Speak
    </p>
  </div>
</div>